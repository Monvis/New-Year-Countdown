const UPPER_LIMIT_Y=20,UPPER_LIMIT_X=2,LOWER_LIMIT_X=-2,MAX_SIZE=6,MIN_SIZE=2,AMOUNT=250,COLOR=16777215,{Application:Application,Graphics:Graphics}=PIXI,floored=e=>Math.floor(Math.random()*e),update=e=>Math.random()>.5?Math.max(-2,e-1):Math.min(e+1,2),reset=e=>{e.x=floored(app.renderer.width),e.y=-(e.height+floored(app.renderer.height)),e.vy=floored(20)},genParticles=e=>new Array(250).fill().map(r=>{const a=floored(6)+2;return(r=new PIXI.Sprite(e)).scale.x=r.scale.y=a/100,r.vx=floored(2)-2,r.vy=floored(20),r.alpha=Math.random(),r.x=floored(app.renderer.width),r.y=-(a+floored(app.renderer.height)),drops.addChild(r),r}),app=new Application({antialias:!0,transparent:!0}),drops=new PIXI.particles.ParticleContainer(250,{scale:!0,position:!0,alpha:!0});app.stage.addChild(drops);const p=new Graphics;p.beginFill(COLOR),p.drawCircle(0,0,100),p.endFill();const baseTexture=app.renderer.generateTexture(p);let particles=genParticles(baseTexture);app.ticker.add(e=>{app.renderer.height===innerHeight&&app.renderer.width===innerWidth||(app.renderer.resize(innerWidth,innerHeight),drops.removeChildren(),particles=genParticles(baseTexture));for(let e of particles)e.y>0&&(e.x+=e.vx),e.y+=e.vy,Math.random()>.9&&(e.vx=update(e.vx)),Math.random()>.9&&(e.vy=Math.min(e.vy+.01,20)),(e.x>app.renderer.width||e.x<0||e.y>app.renderer.height)&&reset(e)}),document.body.appendChild(app.view);